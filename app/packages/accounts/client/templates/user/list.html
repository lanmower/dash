<template name="UsersList">
  <div class="box">
    <div class="box-header with-border">
      <h3 class="box-title">
        Users
      </h3>
    </div>

    <div class="box-body table-responsive no-padding">
    {{#if users}}
      {{> reactiveTable collection=users fields=fields}}
    {{/if}}
    </div>
</div>
</template>
<template name="UserListStatus">
        {{#if status.online}}<i class="fa fa-circle text-success"></i> Online{{else}}<i class="fa fa-circle text-warning"></i> Offline{{/if}}
        </template>
<template name="UserListPicture">
        {{#with FS.GetFile "files" profile.picture}}<img src="{{url}}" class="img-circle" style="width: 100%;max-width: 45px;height: auto;"/>{{/with}}
</template>
<template name="UserListCellButtons">
          {{#if userIsInRole 'user-admin'}}
            {{#linkTo route='editUser'}}
              <button class="btn btn-info" type="button">Edit</button>
            {{/linkTo}}
            {{#callable name="downloadAvatar" userId=_id}}
              <button class="btn btn-info" type="button">Download Avatar</button>
            {{/callable}}
          {{#callable name="setSignature" userId=_id}}
            <button class="btn btn-info setSignatureButton">Set signature</button>
          {{/callable}}
        {{/if}}
        <button class="btn btn-info chat" type="button">Chat</button>
        {{#if userIsInRole 'gmail-admin'}}
          {{#linkTo route='mailList' user=_id}}
            <button class="btn btn-info" type="button">Gmail Messages</button>
          {{/linkTo}}
        {{/if}}
</template>
