<template name="EditForm">
  {{pageTitle "Edit form"}}

  {{#if (can "update" form)}}
    {{> quickRemoveButton collection="Forms" _id=form._id class="btn btn-danger"}}
  {{/if}}
  {{> breadcrumb}}
  {{#if (can "update" form)}}
    {{> quickForm collection="Forms" doc=form id="editFormForm" type="update" omitFields="createdBy" buttonContent="Update"}}
  {{/if}}
  <hr>
  <h4>Fields</h4>
  {{#linkTo route="insertField" parent=form._id}}<i class="fa fa-plus"></i> New field{{/linkTo}}

  <table id="items" class="table table-hover">
    <thead>
      <tr>
        <th>type</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
    {{#each fields}}
      <tr data-id='{{_id}}' data-listposition='{{listposition}}'>
        <td><i class="sortable-handle mdi-action-view-headline pull-right"></i></td>
        <td>{{name}}</td>
        <td>{{type}}</td>
        <td>
          {{#linkTo route='editField'}}
          <i class="fa fa-pencil-square-o"></i>
          {{/linkTo}}
        </td>
      </tr>
    {{/each}}
    </tbody>
  </table>
</template>
